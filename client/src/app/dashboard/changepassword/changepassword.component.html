<div class="row">
  <div class="col s12">
    <div class="card">
      <div class="card-content">
        <span class="card-title">Thay đổi mật khẩu</span>

        <app-form-error [formBase]="changepasswordForm"></app-form-error>

        <form [formGroup]="changepasswordForm.form" (ngSubmit)="changePassword(changepasswordForm.form.value)" novalidate>
          <div class="row">
            <div class="input-field col s12">
              <input id="oldPassword" type="password" formControlName="oldPassword" class="validate" [ngClass]="{'invalid': changepasswordForm.isError('oldPassword')}">
              <label for="oldPassword">Mật khẩu cũ <span class="red-text">*</span></label>
              <app-validate-error [formBase]="changepasswordForm" [field]="'oldPassword'" [error]="'required'" [message]="'Cần nhập mật khẩu cũ'"></app-validate-error>
              <app-field-error [formBase]="changepasswordForm" [field]="'oldPassword'"></app-field-error>
            </div>
            <div class="input-field col s12">
              <input id="password" type="password" formControlName="password" class="validate" [ngClass]="{'invalid': changepasswordForm.isError('password')}">
              <label for="password">Mật khẩu cũ <span class="red-text">*</span></label>
              <app-validate-error [formBase]="changepasswordForm" [field]="'password'" [error]="'required'" [message]="'Cần nhập mật khẩu mới'"></app-validate-error>
              <app-validate-error [formBase]="changepasswordForm" [field]="'password'" [error]="'minlength'" [message]="'Mật khẩu tối thiểu có 6 ký tự'"></app-validate-error>
              <app-field-error [formBase]="changepasswordForm" [field]="'password'"></app-field-error>
            </div>
            <div class="input-field col s12">
              <input id="confirmPassword" type="password" formControlName="confirmPassword" class="validate" [ngClass]="{'invalid': changepasswordForm.isError('confirmPassword')}">
              <label for="confirmPassword">Nhập lại <span class="red-text">*</span></label>
              <app-validate-error [formBase]="changepasswordForm" [field]="'confirmPassword'" [error]="'required'" [message]="'Cần nhập lại mật khẩu'"></app-validate-error>
              <app-validate-error [formBase]="changepasswordForm" [field]="'confirmPassword'" [error]="'passwordmatch'" [message]="'Nhập không chính xác mật khẩu'"></app-validate-error>
              <app-field-error [formBase]="changepasswordForm" [field]="'confirmPassword'"></app-field-error>
            </div>
          </div>

          <div class="row footer-box right-align">
            <button class="btn waves-effect waves-light" type="submit" [disabled]="!changepasswordForm.form.valid || loading">
                <i class="material-icons left">done</i>
                Cập nhật
                </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>